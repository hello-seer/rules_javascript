filegroup(
    name = "bazel",
    srcs = glob(["bazel/**/*"]),
    data = ["@files//:common"],
)

TESTS = [
    "binary",
    "binary_archive",
    "dep",
    "esm",
    "module_details",
]

[
    sh_test(
        name = name,
        size = "large",
        srcs = ["test_%s.sh" % name],
        data = [":bazel"],
        tags = ["local"],
    )
    for name in TESTS
]

test_suite(
    name = "test",
)
